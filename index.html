<!DOCTYPE html>
<html>

<head>
    <title>The Vanishing Glass</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <div>
                <img src="./img/logo.jpg" class="logo">
                <a class="navbar-brand">Studjee</a>
            </div>
            <form class="d-flex" id="searchBox">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" id="input">
                <button class="btn btn-outline-success" type="button" id="searchBtn" value="search"
                    onclick="search();">Search</button>
            </form>
        </div>
    </nav>
    <div class="heading">
        <h1>Harry Potter and The Sorcerer's Stone</h1>
        <h3>Chapter Two -
            The Vanishing Glass</h3>
    </div>
    <div class="container" id="content">
        <div class="row">
            <div class="col">
                <div id="p">
                    <p>
                        Nearly ten years had passed since the Dursleys had woken up to find their nephew on the front
                        step, but Privet Drive had hardly changed at all. The sun rose on the same tidy front gardens
                        and lit up the brass number four on the Dursleys' front door; it crept into their living room,
                        which
                        was almost exactly the same as it had been on the night when Mr. Dursley had seen that fateful
                        news report about the owls. Only the photographs on the mantelpiece really showed how much
                        time had passed. Ten years ago, there had been lots of pictures of what looked like a large pink
                        beach ball wearing different-colored bonnets - but Dudley Dursley was no longer a baby, and
                        now the photographs showed a large blond boy riding his first bicycle, on a carousel at the
                        fair,
                        playing a computer game with his father, being hugged and kissed by his mother. The room held
                        no sign at all that another boy lived in the house, too.</p>
                    <p>Yet Harry Potter was still there, asleep at the moment, but not for long. His Aunt Petunia was
                        awake and it was her shrill voice that made the first noise of the day.</p>
                    <p>"Up! Get up! Now!"</p>
                    <p> woke with a start. His aunt rapped on the door again.</p>
                    <p>"Up!" she screeched. Harry heard her walking toward the kitchen and then the sound of the
                        frying pan being put on the stove. He rolled onto his back and tried to remember the dream he
                        had been having. It had been a good one. There had been a flying motorcycle in it. He had a
                        funny feeling he'd had the same dream before.</p>
                    <p>His aunt was back outside the door.</p>
                    <p>"Are you up yet?" she demanded.</p>
                    <p>"Nearly," said Harry.</p>
                    <p>"Well, get a move on, I want you to look after the bacon. And don't you dare let it burn, I want
                        everything perfect on Duddy's birthday."</p>
                    <p>Harry groaned.</p>
                    <p>"What did you say?" his aunt snapped through the door.</p>
                    <p>"Nothing, nothing . . ."</p>
                    <p>Dudley's birthday - how could he have forgotten? Harry got slowly out of bed and started looking
                        for socks. He found a pair under his bed and, after pulling a spider off one of them, put them
                        on.
                        Harry was used to spiders, because the cupboard under the stairs was full of them, and that
                        was where he slept.</p>
                    <p>When he was dressed he went down the hall into the kitchen. The table was almost hidden
                        beneath all Dudley's birthday presents. It looked as though Dudley had gotten the new
                        computer he wanted, not to mention the second television and the racing bike. Exactly why
                        Dudley wanted a racing bike was a mystery to Harry, as Dudley was very fat and hated exercise
                        - unless of course it involved punching somebody. Dudley's favorite punching bag was Harry,
                        but he couldn't often catch him. Harry didn't look it, but he was very fast.</p>
                    <p>Perhaps it had something to do with living in a dark cupboard, but Harry had always been small
                        and skinny for his age. He looked even smaller and skinnier than he really was because all he
                        had to wear were old clothes of Dudley's, and Dudley was about four times bigger than he was.
                        Harry had a thin face, knobbly knees, black hair, and bright green eyes. He wore round glasses
                        held together with a lot of Scotch tape because of all the times Dudley had punched him on the
                        nose. The only thing Harry liked about his own appearance was a very thin scar on his forehead
                        that was shaped like a bolt of lightning. He had had it as long as he could remember, and the
                        first question he could ever remember asking his Aunt Petunia was how he had gotten it.</p>
                    <p>"In the car crash when your parents died," she had said. "And don't ask questions."
                    <p>Don't ask questions - that was the first rule for a quiet life with the Dursleys.</p>
                    <p>Uncle Vernon entered the kitchen as Harry was turning over the bacon.</p>
                    <p>"Comb your hair!" he barked, by way of a morning greeting.</p>
                </div>
            </div>
        </div>
    </div>
    <div>
        <img src="./img/hp.jpg" class="img-thumbnail" alt="..."
            style="height: 35%; width:70%; margin-left: 15%;margin-right: 15%;">
    </div>
    <script>


        const p = document.getElementById("p");
        const special = /[-,'.!"?]/g;
        // var i= 0;
        function search() {
            let input = document.getElementById("input").value;
            if (input !== "") {
                if (special.test(input)) input = input.replace(special, "\\$&");
                let regExp = new RegExp(input, "gi"); //search occurrences of regular expression in string.

                p.innerHTML = (p.textContent).replace(regExp, "<mark>$&</mark>");
                // i=i+1;
                // console.log(i);



                function wordOccur(string, word) {
                    return string.toString().split(word).length - 1;
                }
                let count = wordOccur(p.textContent, regExp);
                console.log(count);
                // var c = (count);



                function countSentences(p) {
                    let arr = p.toString().split(".");
                    let design = regExp;
                    const sent = arr.filter(function (str) {
                        return design.test(str);
                    });
                    console.log(sent);
                    alert("No. of times letter came is " + count + "\n" +
                        "Sentences : " + sent);
                }
                countSentences(p.textContent);



                function allConversations(str) {
                    let last = -1;
                    let conversations = [];
                    for (let i = 0; i < str.length; i++) {
                        if (str[i] == '"' && last == -1) last = i;
                        else if (str[i] == '"' && last != -1) {
                            let pos = last;
                            last = -1;
                            let len = i - 1 - pos;
                            let ans;
                            if (pos < len) ans = str.substring(pos + 1, len + 1);
                            else ans = str.substring(pos + 1, len + pos + 1);

                            conversations.push(ans);
                        }
                    }
                    console.log(conversations);
                    alert("All Conversations : " + "\n" + conversations);
                    return conversations;
                }
                var x = allConversations(p.textContent);



                function wordOccurInConvo(string, word) {
                    return string.split(word).length - 1;
                }

                let sum = 0;
                let convoInWordOccur = [];
                for (let i = 0; i < x.length; i++) {
                    let temp = wordOccurInConvo(x[i], regExp);
                    if (temp > 0) {
                        convoInWordOccur.push(x[i]);
                        sum = sum + temp;
                    }
                }
                console.log(sum);
                console.log(convoInWordOccur);
                alert("word mentioned in a conversation " + sum + " times" + "\n" +
                    "Conversation in which word occured : " + "\n" + convoInWordOccur);


                // function properNoun(p) {
                //     let arr = p.toString().split(".");
                //     let noun = regExp;
                //     const sent = arr.isUppercase(function(p) {
                //         return noun.isUppercase(str);
                //     });
                //     console.log(sent);
                // }   
                }

            }
    </script>
</body>

</html>